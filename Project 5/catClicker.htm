<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<style>
.catClicker {
	display:inline-block;
	margin:10px;
}
.catClickCounter {
}
.catCountReset {
width:100px;height:20px;border:1px solid #cccccc;background:#ffffff;text-align:center;cursor:pointer;
}

</style>
<title>Pat's Cat Clicker</title>
</head>
<body>
<h1>Click the images below to increment the counter</h1>
<script src="js/libs/jquery.min.js"></script>
<script>
$(document).ready(function(){
	var allCats = [];
	for (i=0;i < 2;i++) {
		var catId = 'cat' + i;
		if (i == 0) {
			allCats.push(new catDiv('catClicker',catId,400,400,'http://upload.wikimedia.org/wikipedia/commons/2/22/Turkish_Van_Cat.jpg'));
		} else {
			allCats.push(new catDiv('catClicker',catId));
		}
		allCats[i].draw();
		allCats[i].addListeners();
	}	
});
var catDiv = function(catClass,id,imgW,imgH,imgSrc) {
	this.id = id;
	this.container = '<div class="' + catClass + '" id="' + id + '"></div>';
	this.imgWidth = imgW || 300;
	this.imgHeight = imgH || 300;
	this.imgSrc = imgSrc || 'https://placekitten.com/g/' + this.imgWidth + '/' + this.imgHeight;
	this.catImg = '<div id="' + id + 'img" class="catImg" title="Click Me!"><img src="' + this.imgSrc + '" width="' + this.imgWidth + '" height="' + this.imgHeight + '"/></div>';
	this.counter = 0;
	this.counterDiv = '<h3>This cat clicked <span id="' + this.id + 'counter">0</span> times</h3>';
	this.resetDiv = '<div class="catCountReset" id="reset' + this.id + '"  title="Reset counter to 0">Reset</div>';
	this.draw = function() {
		$('body').append(this.container);
		$('#' + id).append(this.counterDiv);
		$('#' + id).append(this.catImg);
		$('#' + id).append(this.resetDiv);
		console.log('got to here. cat id is ' + id + ' - container is: ' + $('#' + id).html());
	}
	this.increment = function () {
		this.counter++;
		$('#' + this.id + 'counter').html(this.counter);
		console.log('Image ' + this.id + ' clicked. counter is: ' + this.counter);
	}
	this.resetCounter = function () {
		this.counter = 0;
		$('#' + this.id + 'counter').html(this.counter);
		console.log(this.id + ' Reset clicked. counter is: ' + this.counter);
	}
	this.addListeners = function () {// This solution found at http://stackoverflow.com/questions/12024483/how-to-pass-parameter-to-function-using-in-addeventlistener 
		var self = this;
		var imgId = this.id + 'img';
		var resetId = 'reset' + this.id;
		document.getElementById(imgId).addEventListener("click", function() {
			self.increment();
		});	
		document.getElementById(resetId).addEventListener("click", function() {
			self.resetCounter();
		});
	}
}
//comment
</script>
</body>
</html>